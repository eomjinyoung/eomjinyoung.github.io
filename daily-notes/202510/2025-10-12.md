# 2025-10-12

## 학습

- "Effective Java 3/E" 강의 자료 만들기
    

### 아이템 44. 표준 함수형 인터페이스를 사용하라

- 표준 함수형 기본 인터페이스 6가지의 용도를 확인하였다.
    - Supplier<T>
    - Consumer<T>
    - Function<T,R>
    - Predicate<T>
    - UnaryOperator<T>
    - BinaryOperator<T>
- 표준 함수형 기본 인터페이스를 변형한 인터페이스를 확인하였다.
- 개발자가 전용 함수형 인터페이스를 만들어야 하는 경우를 확인하였다.
- @FunctionalInterface 애노테이션의 용도를 확인하였다.

### 아이템 45. 스트림은 주의해서 사용하라

- 스트림에 등장하는 용어와 그 의미를 이해했다.
- 스트림 파이프라인의 흐름을 확인했다.
- 스트림 코드가 난해하면 도우미 메서드를 사용하여 가독성을 높이는 방법을 확인했다.
- 반복문과 스트림의 장단점을 비교해 보았다.
  - 어느 것을 사용할지 판단하기 어려울 때는 둘 다 구현해보고 더 나은 쪽을 선택하는 방법도 있다.
- 스트림으로 처리하기 어려운 경우를 확인했다.


## 참고

### 지연 평가(Lazy Evaluation)

- 지연 평가(Lazy Evaluation)란 표현식의 평가를 그 값이 실제로 필요한 시점까지 미루는 것을 의미한다.
- 지연 평가의 장점
    - 성능 향상: 불필요한 계산을 피함으로써 프로그램의 성능을 향상시킬 수 있다.
    - 무한 데이터 구조: 무한한 데이터 구조를 다룰 수 있게 해준다.
    - 향상된 모듈성: 프로그램의 각 부분이 독립적으로 동작할 수 있게 해준다.
- 지연 평가의 단점
    - 디버깅 어려움: 코드의 흐름을 추적하기 어려워질 수 있다.
    - 메모리 사용 증가: 평가되지 않은 표현식이 메모리에 남아 있을 수 있다.
    - 예측 불가능한 성능: 평가 시점이 불확실하여 성능을 예측하기 어려울 수 있다.

지연 평가의 예:
```java
List<String> words = List.of("apple", "banana", "cherry");

long count = words.stream()
    .filter(w -> {
        System.out.println("filter: " + w);
        return w.length() > 5;
    })
    .map(w -> {
        System.out.println("map: " + w);
        return w.toUpperCase();
    })
    .count();

System.out.println("결과: " + count);
```

출력결과:
```
filter: apple
filter: banana
map: banana
filter: cherry
map: cherry
결과: 2
```

#### 실행 원리

- 중간 연산은 “계획만 세운다.”
  - filter(), map() 같은 중간 연산을 호출하면, 즉시 데이터를 순회하거나 결과를 생성하지않는다.
  - 대신, 스트림 내부에 “이런 변환들을 나중에 하겠다”는 연산 체인 구조(operation chain) 를 쌓아 둔다.
  - 즉, 다음처럼 “실행 계획”만 만들어진 상태입니다.
  ```
  Stream = source
        |> filter(w -> length > 5)
        |> map(w -> toUpperCase)
  ```
  - 이 시점에서는 실제 데이터(words 리스트)의 요소는 전혀 접근하지 않는다.
- 종단 연산이 실행될 때 “한 요소씩” 평가된다.
  - count(), collect(), forEach() 같은 종단 연산이 호출되면 비로소 스트림 파이프라인이 작동하기 시작한다.
  - 한 요소가 들어오면, filter() → map() → count() 순서로 각 요소가 처리된다
  - 즉, 요소 단위로 파이프라인이 합쳐진 형태로 실행된다.

#### 실행 과정
1. apple → filter 실행 (false → 버림)
2. banana → filter 실행 (true) → map 실행 → 결과 전달
3. cherry → filter 실행 (true) → map 실행 → 결과 전달

“필요 없는 요소(필터에서 걸러지는 값)”는 아예 다음 연산으로 전달되지 않기 때문에 계산되지 않는다.

### 스트림 패러다임

- 패러다임
  - 어떤 현상을 바라보는 사고의 틀, 모델, 사유 체계, 또는 문제 해결 방식을 말한다.
  - 과학에서 패러다임은 “세상을 바라보는 기본 원리나 시각”이고,
  - 프로그래밍에서 패러다임은 “코드를 구성하고 문제를 푸는 사고방식”입니다.
- 프로그래밍 패러다임
  - 절차지향 프로그래밍: 순서대로 명령을 실행하는 방식. 
     - "컴퓨터에게 무엇을 어떻게 할지 명령한다.”
  - 객체지향 프로그래밍: 객체 간의 상호작용을 통해 문제를 해결하는 방식.
    - “데이터와 동작을 객체 단위로 묶어 관리한다.”
  - 함수형 프로그래밍: 수학적 함수 개념을 기반으로 상태와 가변 데이터를 피하는 방식.
    - “데이터 변환을 함수 조합으로 표현한다.”
    - ‘무엇을 할 것인가’를 기술하고 ‘어떻게’는 함수들이 알아서 처리
